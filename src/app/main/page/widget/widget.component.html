<div class="widget-container">
  <header class="quarterly-goals-card">
    <div class="desktop-goal-titles">
      <div class="goal-titles">
        <p class="quarterly-goals">Quarterly Goals</p>
        <button class="edit-quarterly-goals" aria-label="Edit goals" (click)="openModal()">
          <svg class="edit-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M14.9636 1.03564C13.5863 -0.345213 11.3466 -0.345213 9.96928 1.03564L0.812414 10.1902C0.740823 10.2618 0.696505 10.3538 0.682868 10.4527L0.00445533 15.4783C-0.0159993 15.6215 0.0351373 15.7647 0.134002 15.8636C0.219229 15.9489 0.338548 16 0.457867 16C0.478322 16 0.498776 16 0.519231 15.9966L3.54652 15.5874C3.79879 15.5534 3.97607 15.3215 3.94198 15.0692C3.90789 14.8169 3.67607 14.6396 3.42379 14.6737L0.996506 15.001L1.47037 11.496L5.15903 15.1851C5.24426 15.2704 5.36358 15.3215 5.48289 15.3215C5.60221 15.3215 5.72153 15.2738 5.80676 15.1851L14.9636 6.03058C15.6318 5.36231 16 4.47584 16 3.5314C16 2.58697 15.6318 1.7005 14.9636 1.03564ZM10.1466 2.16078L11.6841 3.69847L3.32834 12.0552L1.79083 10.5175L10.1466 2.16078ZM5.4863 14.21L3.98289 12.7064L12.3386 4.34969L13.842 5.85328L5.4863 14.21ZM14.4829 5.19525L10.8045 1.51638C11.2716 1.13111 11.8545 0.919717 12.4682 0.919717C13.167 0.919717 13.8216 1.19248 14.3159 1.68345C14.8102 2.17442 15.0795 2.83245 15.0795 3.5314C15.0795 4.14853 14.8682 4.72814 14.4829 5.19525Z" fill="#2DBDB1"/>
          </svg>
        </button>
      </div>
      <div class="goal-time">{{ getQuarterAndYear() }}</div>
    </div>
    <div class="responsive-goal-titles">
      <time class="goal-time">{{ getQuarterAndYear() }}</time>
      <button class="edit-quarterly-goals" aria-label="Edit goals" (click)="openModal()">
        <svg class="edit-icon" width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M14.9636 1.03564C13.5863 -0.345213 11.3466 -0.345213 9.96928 1.03564L0.812414 10.1902C0.740823 10.2618 0.696505 10.3538 0.682868 10.4527L0.00445533 15.4783C-0.0159993 15.6215 0.0351373 15.7647 0.134002 15.8636C0.219229 15.9489 0.338548 16 0.457867 16C0.478322 16 0.498776 16 0.519231 15.9966L3.54652 15.5874C3.79879 15.5534 3.97607 15.3215 3.94198 15.0692C3.90789 14.8169 3.67607 14.6396 3.42379 14.6737L0.996506 15.001L1.47037 11.496L5.15903 15.1851C5.24426 15.2704 5.36358 15.3215 5.48289 15.3215C5.60221 15.3215 5.72153 15.2738 5.80676 15.1851L14.9636 6.03058C15.6318 5.36231 16 4.47584 16 3.5314C16 2.58697 15.6318 1.7005 14.9636 1.03564ZM10.1466 2.16078L11.6841 3.69847L3.32834 12.0552L1.79083 10.5175L10.1466 2.16078ZM5.4863 14.21L3.98289 12.7064L12.3386 4.34969L13.842 5.85328L5.4863 14.21ZM14.4829 5.19525L10.8045 1.51638C11.2716 1.13111 11.8545 0.919717 12.4682 0.919717C13.167 0.919717 13.8216 1.19248 14.3159 1.68345C14.8102 2.17442 15.0795 2.83245 15.0795 3.5314C15.0795 4.14853 14.8682 4.72814 14.4829 5.19525Z" fill="#2DBDB1"/>
        </svg>
      </button>
    </div>
  </header>
  <section class="goal-list">
    <ul class="goal-content">
      <div>
        @for (goal of incompleteQuarterlyGoals(); track goal.__id) {
          <li class="quarterly-goal" [@goalState]>
            <mat-checkbox color="#2DBDB1" class="check-box" [checked]="goal.completed" (click)="checkGoal(goal)"></mat-checkbox>
            <div class="goal-details">
              <div class="goal-title" [ngStyle]="{'text-decoration': goal.completed ? 'line-through' : 'none'}">{{ goal.text }}</div>
              <div class="bottom-row">
                <div class="goal-hashtag" [style.color]="goal.hashtag?.color">#{{ goal.hashtag?.name }}</div>
                <div class="goal-count">{{ goal.weeklyGoalsComplete }} / {{ goal.weeklyGoalsTotal }}</div>
              </div>
            </div>
          </li>
        }
      </div>
      <div>
        @for (goal of completedQuarterlyGoals(); track goal.__id) {
          <li class="quarterly-goal" [@goalState]>
            <mat-checkbox color="#2DBDB1" class="check-box" [checked]="goal.completed" (click)="checkGoal(goal)">
            </mat-checkbox>
            <div class="goal-details">
              <div class="goal-title" [ngStyle]="{'text-decoration': goal.completed ? 'line-through' : 'none'}">{{ goal.text }}</div>
              <div class="bottom-row">
                <div class="goal-hashtag" [style.color]="goal.hashtag?.color">#{{ goal.hashtag?.name }}</div>
                <div class="goal-count">{{ goal.weeklyGoalsComplete }} / {{ goal.weeklyGoalsTotal }}</div>
              </div>
            </div>
          </li>
        }
      </div>
    </ul>
  </section>
  <footer class="add-goal-button" (click)="openModal()">
    <button mat-button aria-label="Add goal">
      <div class="add-goal">+ Add a quarter goal</div>
    </button>
  </footer>
</div>
